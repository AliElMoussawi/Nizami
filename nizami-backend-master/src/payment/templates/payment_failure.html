<!-- emails/payment_failure.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Failed - JP Ai</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
            color: #333;
        }

        .container {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .header {
            text-align: center;
            padding-bottom: 20px;
        }

        .header h1 {
            color: #5C6BC0;
        }

        .content {
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .content p {
            margin-bottom: 15px;
        }

        .payment-details {
            background-color: #f8d7da;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
            border-left: 4px solid #dc3545;
        }

        .payment-details h3 {
            margin-top: 0;
            color: #721c24;
        }

        .payment-details ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .payment-details li {
            margin-bottom: 5px;
        }

        .footer {
            font-size: 12px;
            color: #888;
            text-align: center;
        }

        .footer p {
            margin: 0;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>Payment Failed ‚ùå</h1>
    </div>
    <div class="content">
        <p>Dear {{ user.first_name }} {{ user.last_name }},</p>
        <p>We encountered an issue processing your payment. Don't worry - this happens sometimes and is usually easy to resolve.</p>
        
        <div class="payment-details">
            <h3>Payment Details:</h3>
            <ul>
                <li><strong>Amount:</strong> ${{ payment.amount }}</li>
                <li><strong>Payment Method:</strong> {{ payment.payment_method }}</li>
                <li><strong>Transaction ID:</strong> {{ payment.transaction_id }}</li>
                <li><strong>Date:</strong> {{ payment.created_at|date:"F d, Y" }}</li>
                <li><strong>Status:</strong> {{ payment.status|title }}</li>
                <li><strong>Error:</strong> {{ payment.failure_reason|default:"Payment processing failed" }}</li>
            </ul>
        </div>

        <p>To complete your subscription, please try the following:</p>
        <ul>
            <li>Check that your payment method has sufficient funds</li>
            <li>Verify your billing information is correct</li>
            <li>Try using a different payment method</li>
            <li>Contact your bank if the issue persists</li>
        </ul>

        <p>You can retry your payment by logging into your account and going to the billing section. If you continue to experience issues, please contact our support team and we'll be happy to help.</p>
        <p>Thank you for your patience!</p>
        <p>Best regards,<br>JP Ai Team</p>
    </div>
    <div class="footer">
        <p>&copy; {{ current_year }} JP Ai. All rights reserved.</p>
    </div>
</div>
</body>
</html>
