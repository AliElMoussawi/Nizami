<app-template>
  <div class="flex flex-col gap-9 pt-8 pb-24 pr-2 w-full h-full overflow-auto">
    <div class="flex flex-row justify-between items-center">
      <div class="text-3xl font-bold">
        Plans
      </div>

      <div>
        <a routerLink="/plans/create"
           class="
px-4 py-2.5 disabled:bg-grey3 rounded-lg disabled:text-white w-full
bg-blue1 text-white text-base font-medium disabled:cursor-not-allowed hover:bg-purple5
shadow-[0px_1px_2px_0px_#1018280D]
flex flex-row gap-2 items-center justify-center
"
        >
          <img src="/assets/icons/circle-plus.svg" alt="New">
          <span>Add plan</span>
        </a>
      </div>
    </div>

    <div class="table-section">
      <div class="border-2 border-grey9 rounded-xl">

        <div class="flex flex-row justify-between px-4 py-3  border-b-2 border-grey9 gap-3">
          <div class="flex items-center gap-2">
            <span class="text-sm">Status:</span>
            <select [(ngModel)]="statusFilter" (change)="onSearch()" class="border border-grey1 rounded-lg px-2 py-1">
              <option [ngValue]="null">All</option>
              <option [ngValue]="false">Active</option>
              <option [ngValue]="true">Deleted</option>
            </select>
          </div>
          <div>
            <app-input
              [(ngModel)]="searchText"
              (keyup)="onSearchChange(searchText || '')"
              placeholder="Search by name"
            >
              <button class="icon-before pl-3 flex items-center" type="button">
                <img src="/assets/icons/magnifying-glass.svg" alt="Search">
              </button>
            </app-input>
          </div>
        </div>

        <table
          [dtOptions]="dtOptions"
          [dtTrigger]="dtTrigger"
          class="table table-striped table-row-bordered hover gy-5 gs-7 w-full text-left"
          datatable
        ></table>
      </div>
    </div>
  </div>
</app-template>

<ng-template #actions let-data="adtData" let-select="select">
  <app-actions
    #actionsComponent
    class="flex py-4"
    [showSelect]="false"
  >
    <ng-container class="after">
      <!-- Placeholder if we switch to app-actions usage later -->
    </ng-container>
  </app-actions>
</ng-template>


