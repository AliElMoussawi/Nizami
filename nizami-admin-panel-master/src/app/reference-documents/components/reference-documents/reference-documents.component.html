<app-template>
  <div class="flex flex-col gap-9 pt-8 pb-24 pr-2 w-full h-full overflow-y-auto">
    <div class="flex flex-row justify-between items-center">
      <div class="text-3xl font-bold">
        Documents List
      </div>

      <div>
        <app-button
          (click)="addNewDocument()"
        >
          <div
            class="flex flex-row gap-2 items-center justify-center"
          >
            <img src="/assets/icons/circle-plus.svg" alt="New Document">
            <span>Add new document</span>
          </div>
        </app-button>
      </div>
    </div>

    <div class="table-section">
      <div class="border-2 border-grey9 rounded-xl">

        <div class="flex flex-row justify-between px-4 py-3  border-b-2 border-grey9">
          <div></div>
          <div>
            <app-input
              [(ngModel)]="searchText"
              (ngModelChange)="onChange($event)"
              placeholder="Search"
              (keyup.enter)="onSearch()"
            >
              <button class="icon-before pl-3 flex items-center" type="button">
                <ng-icon name="heroMagnifyingGlass"></ng-icon>
              </button>
            </app-input>
          </div>
        </div>

        <table
          [dtOptions]="dtOptions"
          [dtTrigger]="dtTrigger"
          class="table table-striped table-row-bordered hover gy-5 gs-7 w-full text-left"
          datatable
        ></table>
      </div>
    </div>
  </div>
</app-template>


<ng-template #actions let-data="adtData" let-select="select">
  <app-actions
    #actionsComponent
    class="flex py-4"
    [showSelect]="false"
    [showDelete]="true"
    (onDelete)="deleteDocument(data)"
  >
    <ng-container class="after">
      <button mat-menu-item (click)="editDocument(data)">
        <img src="/assets/icons/edit.svg" alt="Edit">
        <span>Edit</span>
      </button>

      <button mat-menu-item (click)="downloadFile(data)">
        <ng-icon name="heroArrowDownTray"></ng-icon>
        <span>Download</span>
      </button>
    </ng-container>
  </app-actions>
</ng-template>

<ng-template #language let-data="adtData">
  {{ data.language == 'en' ? 'English' : 'Arabic'}}
</ng-template>
